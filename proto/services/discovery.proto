syntax = "proto3";

package ringbahn.v1;

import "common/types.proto";

// Discovery service command request
message DiscoveryCommandRequest {
  oneof message {
    IdentifyActiveDeviceRequest identify_active_device_req = 1;
    SetChannelIdentityRequest set_channel_identity_req = 3;
    AttachedDevicesRequest attached_devices_req = 4;
  }
}

// Discovery service command response
message DiscoveryCommandResponse {
  oneof message {
    AttachedDevicesResponse attached_devices_res = 1;
    DeviceInfo identify_active_device_res = 2;
  }
}

// Request to list all attached devices
message AttachedDevicesRequest {
  // Empty - request all devices
}

// Response with list of attached devices
message AttachedDevicesResponse {
  repeated DeviceInfo devices = 1;
}

// Request to identify the active device
message IdentifyActiveDeviceRequest {
  // Empty - identify current device
}

// Request to set channel identity/activation
message SetChannelIdentityRequest {
  int32 channel = 1;
  bool active = 2;
}
