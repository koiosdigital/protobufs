syntax = "proto3";

package ringbahn.v1;

import "devices/device_common.proto";

// Top-level ADC device command message
message ADCDeviceCommand {
  oneof command {
    // Common commands
    SystemInfoRequest system_info = 1; // Response: SystemInfoResponse
    HeartbeatRequest heartbeat = 2; // Response: HeartbeatResponse
    
    // ADC-specific commands
    ADCGetStateRequest get_state = 10; // Response: ADCState
  }
}

// ===== ADC-Specific Commands =====

// Response: ADCState
message ADCGetStateRequest {
  // Empty - reads all channels
}

// Single ADC channel reading
message ADCChannelValue {
  int32 channel_number = 1;
  int32 adc_value = 2; // Raw ADC value;
}

// Complete ADC device state
message ADCState {
  int64 timestamp_ms = 1; // When state was captured (milliseconds since epoch);
  repeated ADCChannelValue values = 2;
}
